import{W as g,j as e}from"./app-bkc-gmOT.js";import{F as p}from"./FieldGroup-DcWmguF9.js";import{T as j,a as y}from"./TextareaInput-E04iPRHf.js";import{B as c}from"./button-DMvL_EpJ.js";import{c as u}from"./utils-8RyR4BqC.js";import{L as b}from"./loader-BT4tZDoS.js";import"./index-BZ36hmY6.js";import"./createLucideIcon-CLRVkLq4.js";const D=({course:o,setShow:i,chapter:t,action:a="create"})=>{const{data:d,setData:n,errors:r,post:x,put:f,processing:l,reset:m}=g({title:(t==null?void 0:t.title)||"",description:(t==null?void 0:t.description)||""}),h=s=>{s.preventDefault(),a==="update"?f(route("teachers.courses.chapters.update",{course:t==null?void 0:t.course_id,chapter:t==null?void 0:t.id}),{preserveScroll:!0,onSuccess:()=>{m(),i(!1)}}):x(route("teachers.courses.chapters.store",o==null?void 0:o.id),{preserveScroll:!0,onSuccess:()=>{m(),i(!1)}})};return e.jsxs("form",{onSubmit:h,className:"px-8 py-12 max-h-[calc(100vh-4rem)] overflow-y-auto sticky",children:[e.jsx("h2",{className:"text-xl font-medium text-gray-900 dark:text-gray-100",children:a==="update"?"Update Chapter":"Add New Chapter"}),e.jsxs("p",{className:"mt-6 text-gray-700 dark:text-gray-400 bg-yellow-50 px-6 py-4 text-sm rounded-md",children:[a==="update"?"Update the chapter details.":"Add a new chapter to the course.","You can add video and other resources to the chapter after creating it. You can also update the chapter details later."]}),Object.keys(r).length>0&&e.jsx("p",{className:u("text-red-500 text-sm mt-6 bg-red-100 px-6 py-4 rounded-md",r&&"block"),children:"Oops! There are errors in the form. Please fix them and try again."}),e.jsxs("div",{className:"w-full flex flex-col gap-6 mt-6",children:[e.jsx(p,{label:"Chapter Title",name:"title",error:r.title,children:e.jsx(j,{name:"name",error:r.title,value:d.title,onChange:s=>n("title",s.target.value)})}),e.jsx(p,{label:"Chapter Description",name:"description",error:r.description,children:e.jsx(y,{name:"description",error:r.description,value:d.description,onChange:s=>n("description",s.target.value)})})]}),e.jsxs("div",{className:"mt-10 flex gap-4",children:[e.jsxs(c,{className:u("bg-gradient",l&&"cursor-not-allowed opacity-50"),type:"submit",disabled:l,children:[l&&e.jsx(b,{className:"w-4 h-4 animate-spin inline-block mr-2"}),a==="update"?"Update Chapter":"Add Chapter"]}),e.jsx(c,{type:"button",onClick:()=>{i(!1)},children:"Cancel"})]})]})};export{D as default};
