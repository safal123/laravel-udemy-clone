import{r as s,j as o}from"./app-D3Bc6xah.js";import{c as I,P as u}from"./index-CX4xsMym.js";import{u as C,a as p}from"./index-B_nNEXnh.js";import{c as m}from"./utils-8RyR4BqC.js";var f="Avatar",[b,$]=I(f),[_,A]=b(f),x=s.forwardRef((a,t)=>{const{__scopeAvatar:e,...r}=a,[n,i]=s.useState("idle");return o.jsx(_,{scope:e,imageLoadingStatus:n,onImageLoadingStatusChange:i,children:o.jsx(u.span,{...r,ref:t})})});x.displayName=f;var w="AvatarImage",S=s.forwardRef((a,t)=>{const{__scopeAvatar:e,src:r,onLoadingStatusChange:n=()=>{},...i}=a,d=A(w,e),l=E(r),c=C(g=>{n(g),d.onImageLoadingStatusChange(g)});return p(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?o.jsx(u.img,{...i,ref:t,src:r}):null});S.displayName=w;var h="AvatarFallback",v=s.forwardRef((a,t)=>{const{__scopeAvatar:e,delayMs:r,...n}=a,i=A(h,e),[d,l]=s.useState(r===void 0);return s.useEffect(()=>{if(r!==void 0){const c=window.setTimeout(()=>l(!0),r);return()=>window.clearTimeout(c)}},[r]),d&&i.imageLoadingStatus!=="loaded"?o.jsx(u.span,{...n,ref:t}):null});v.displayName=h;function E(a){const[t,e]=s.useState("idle");return p(()=>{if(!a){e("error");return}let r=!0;const n=new window.Image,i=d=>()=>{r&&e(d)};return e("loading"),n.onload=i("loaded"),n.onerror=i("error"),n.src=a,()=>{r=!1}},[a]),t}var N=x,j=S,L=v;const y=s.forwardRef(({className:a,...t},e)=>o.jsx(N,{ref:e,className:m("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",a),...t}));y.displayName=N.displayName;const R=s.forwardRef(({className:a,...t},e)=>o.jsx(j,{ref:e,className:m("aspect-square h-full w-full",a),...t}));R.displayName=j.displayName;const k=s.forwardRef(({className:a,...t},e)=>o.jsx(L,{ref:e,className:m("flex h-full w-full items-center justify-center rounded-full bg-muted",a),...t}));k.displayName=L.displayName;function U({src:a,alt:t,fallback:e}){return o.jsxs(y,{children:[o.jsx(R,{src:a||"https://github.com/shadcn.png",alt:t||"user-avatar"}),o.jsx(v,{children:e})]})}export{y as A,U,R as a,k as b};
